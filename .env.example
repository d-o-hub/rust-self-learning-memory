# Turso Database Credentials - Example Configuration
# ========================================
# This is a template file showing all available environment variables.
# Copy this file to .env and fill in your actual credentials.
#
# SETUP INSTRUCTIONS:
# 1. Copy this file: cp .env.example .env
# 2. Get your Turso credentials:
#    - Visit https://app.turso.tech
#    - Create or select your database
#    - Generate auth token: turso db tokens create <database-name>
# 3. Replace placeholder values below with your actual credentials
# 4. Never commit .env to git (it's already in .gitignore)
#
# ⚠️  SECURITY: See SECURITY_TOKENS.md for token management guidelines

# ===================
# Test Database
# ===================
# Required for running integration tests with real Turso database
# If not set, tests will use local file-based database instead
TEST_TURSO_URL=libsql://test-yourproject.turso.io
TEST_TURSO_TOKEN=your-test-database-token-here

# ===================
# Development Database (optional)
# ===================
# Optional: Use a dedicated database for local development
# If not set, local file-based database will be used
DEV_TURSO_URL=libsql://dev-yourproject.turso.io
DEV_TURSO_TOKEN=your-dev-database-token-here

# ===================
# Production Database
# ===================
# Required for production deployment
# Keep this separate from dev/test tokens!
TURSO_URL=libsql://prod-yourproject.turso.io
TURSO_TOKEN=your-production-database-token-here

# ===================
# Additional Configuration (optional)
# ===================

# Logging level: trace, debug, info, warn, error
RUST_LOG=info

# Episode cache size (default: 1000)
MEMORY_CACHE_SIZE=1000

# Pattern extraction confidence threshold (default: 0.7)
PATTERN_EXTRACTION_THRESHOLD=0.7

# Maximum number of retries for database operations (default: 3)
MAX_DB_RETRIES=3

# Database connection timeout in seconds (default: 10)
DB_CONNECTION_TIMEOUT=10

# ===================
# Getting Started Examples
# ===================

# Example: Run tests with local file database (no credentials needed)
#   cargo test --all

# Example: Run tests with remote Turso database
#   export TEST_TURSO_URL="libsql://..."
#   export TEST_TURSO_TOKEN="eyJ..."
#   cargo test --all -- --include-ignored

# Example: Run with debug logging
#   RUST_LOG=debug cargo run

# ===================
# Troubleshooting
# ===================

# Issue: "auth failed" errors
# Solution: Check token is valid with: turso db tokens list <database-name>
#           Regenerate if needed: turso db tokens create <database-name>

# Issue: "connection refused" errors
# Solution: Verify database URL is correct and database exists
#           Check with: turso db list

# Issue: Integration tests are ignored
# Solution: Tests are skipped when TEST_TURSO_URL/TOKEN not set
#           Either set the variables or run with: cargo test -- --include-ignored

# ===================
# Links & Resources
# ===================
# Turso Documentation: https://docs.turso.tech
# Create Database: https://app.turso.tech
# CLI Reference: https://docs.turso.tech/reference/turso-cli
# Security Guide: ./SECURITY_TOKENS.md
# Testing Guide: ./TESTING.md
